<style>
  body {
    font-family: Tahoma, sans-serif;
    font-size: 13px;
    color: #000;
    background-color: #f4f4f4;
  }
  .section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(#217346, #1e5e36);
    color: white;
    padding: 10px 14px;
    font-weight: bold;
    border-radius: 4px 4px 0 0;
    margin-bottom: 20px;
  }
  h2 {
    margin: 0;
    font-size: 16px;
  }
  label {
    font-weight: bold;
    color: #1e5e36;
    display: block;
    margin-bottom: 4px;
  }
  input, textarea, select {
    border: 1px solid #888;
    border-radius: 3px;
    padding: 6px;
    font-size: 13px;
    width: 100%;
    box-sizing: border-box;
    background: #f8f8f8;
  }
  input:focus, textarea:focus, select:focus {
    background: #fff;
    border-color: #217346;
    outline: none;
  }
  button {
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
  }
  .btn-green {
    background: linear-gradient(#d8ead3, #b5d6a7);
    color: #1e5e36;
    border: 1px solid #1e5e36;
    padding: 8px 14px;
  }
  .btn-green:hover {
    background: linear-gradient(#e8f5e3, #c4e0b8);
  }
  .btn-red {
    background: linear-gradient(#f6b1b1, #e06666);
    color: white;
    border: 1px solid #a94442;
    padding: 8px 14px;
  }
  .btn-red:hover {
    background: linear-gradient(#fdd, #e88);
  }
  .btn-blue {
    background: linear-gradient(#d4e4f7, #a9c4e3);
    color: #004085;
    border: 1px solid #004085;
    padding: 8px 14px;
  }
  hr {
    border: none;
    border-top: 1px solid #ccc;
  }
</style>

<div class="section-header">
  <h2>Packing Slip Creator</h2>
  <div style="flex: 2;">
    <label style="font-weight: bold; color: white;">Invoice #</label>
    <input type="text" id="invoiceInput" />
  </div>
</div>



<div style="display: flex; gap: 20px; margin-bottom: 20px;">
  <div style="flex: 1;">
    <label for="slipSearch">Search Packing Slip</label>
    <input type="text" id="slipSearch" placeholder="Invoice # or Customer Name" />
    <ul id="slipResults" style="list-style: none; padding: 0; margin: 0; border: 1px solid #ccc; border-radius: 4px; max-height: 150px; overflow-y: auto;"></ul>
  </div>
  <div style="flex: 2;">
    <label>Customer:</label>
    <select id="customerSelect">
      <option value="">-- Select Customer --</option>
    </select>
  </div>
</div>

<div style="display: flex; gap: 20px; margin-bottom: 20px;">
  <div style="flex: 1;">
    <label>Bill To</label>
    <textarea id="billTo" rows="3" readonly></textarea>
  </div>
  <div style="flex: 1;">
    <label>Ship To</label>
    <select id="shipToSelect" style="margin-bottom: 8px;">
      <option value="">-- Select Ship To Address --</option>
    </select>
    <textarea id="shipTo" rows="3"></textarea>
  </div>
</div>

<div style="display: flex; gap: 20px; margin-bottom: 20px;">
  <div>
    <label>PO #</label>
    <input type="text" id="poNumber" />
  </div>
  <div>
    <label>Ship Date</label>
    <input type="date" id="shipDate" />
  </div>
  <div>
    <label>Date</label>
    <input type="date" id="invoiceDate" />
  </div>
</div>

<hr style="margin: 30px 0;">

<h3>Scan Roll</h3>
<input type="text" id="barcodeInput" placeholder="Scan barcode..." style="padding: 10px;" autofocus />

<div id="voidBanner" style="display:none; color:red; font-size:26px; font-weight:bold; text-align:center; padding:12px; margin-top:10px;">
  ‚ùå This slip is VOIDED
</div>
<button id="voidSlipBtn" class="btn-red" onclick="window.voidSlip()">‚ùå Void Slip</button>

<h3>Items</h3>
<div id="scan-warnings" style="margin-bottom: 12px; padding: 8px 12px; background: #fff4e5; border: 1px solid #ffc107; border-radius: 6px; color: #856404; font-size: 0.95rem; display: none;"></div>
<table border="1" cellspacing="0" cellpadding="8" style="width: 100%; margin-bottom: 20px; border-collapse: collapse;">
  <thead>
    <tr style="background: #d4e4f7;">
      <th>Item Code</th>
      <th>Description</th>
      <th>Package</th>
      <th>QTY</th>
      <th></th>
    </tr>
  </thead>
  <tbody id="itemBody"></tbody>
</table>

<div style="display: flex; justify-content: space-between; align-items: flex-start; margin-top: 30px; flex-wrap: wrap; gap: 12px;">
  <div style="display: flex; gap: 15px; flex-wrap: wrap;">
    <button id="generateSlipBtn" class="btn-blue">üìÑ Generate Packing Slip</button>
    <button id="saveSlipBtn" class="btn-green">üíæ Save Slip</button>
    <button id="saveNewSlipBtn" class="btn-green">üÜï Save & New</button>
  </div>
  <div>
    <button id="deleteSlipBtn" class="btn-red">üóëÔ∏è Delete Selected Slip</button>
  </div>
</div>

<div id="status" style="margin-top: 15px; color: red; font-weight: 500;"></div>
<div id="result" style="margin-top: 15px;"></div>

<div id="confirmModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:white; padding:24px; border-radius:12px; max-width:400px; text-align:center;">
    <p id="confirmMessage" style="margin-bottom:20px;">Are you sure?</p>
    <div style="display:flex; gap:12px; justify-content:center;">
      <button id="confirmYesBtn" class="btn-green">Yes</button>
      <button id="confirmNoBtn" class="btn-red">No</button>
    </div>
  </div>
</div>
